(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f821b53"],{"034b":function(t,e,a){"use strict";a("2a6e")},"2a6e":function(t,e,a){},"2f6e":function(t,e,a){"use strict";a.r(e);var n=a("7a23"),r=function(t){return Object(n["L"])("data-v-5b9c389c"),t=t(),Object(n["I"])(),t},c={class:"userData"},i={class:"q-mt-md"},l=Object(n["n"])(" Эта информация понадобится врачу во время консультации. "),o={class:"row q-mt-md"},s={class:"col-12"},u={class:"col-12 q-mt-md"},b={class:"col-12 q-mt-md"},d={class:"col-12 q-mt-md"},O=r((function(){return Object(n["k"])("div",null,"Введите дату в формате чч.мм.гггг",-1)})),f=r((function(){return Object(n["k"])("div",null,"Услуги доступны для пользователей старше 18 лет",-1)})),j={class:"row q-mt-md"},m={class:"col-12 q-mt-lg"},h=Object(n["n"])(" Я даю согласие на "),p=Object(n["n"])(" медицинское вмешательство "),v=Object(n["n"])(" и "),k=Object(n["n"])(" обработку персональных данных "),D={class:"col-12 q-mt-md"},g=Object(n["n"])(" Продолжить ");function y(t,e,a,r,y,N){var V=Object(n["Q"])("typography"),I=Object(n["Q"])("r-input"),_=Object(n["Q"])("r-checkbox"),w=Object(n["Q"])("r-btn"),U=Object(n["Q"])("default-layout");return Object(n["H"])(),Object(n["h"])(U,{title:"Ваши данные"},{default:Object(n["ab"])((function(){return[Object(n["k"])("div",c,[Object(n["k"])("div",null,[Object(n["k"])("div",i,[Object(n["o"])(V,{variant:"body-1-regular"},{default:Object(n["ab"])((function(){return[l]})),_:1})]),Object(n["k"])("div",o,[Object(n["k"])("div",s,[Object(n["o"])(I,{modelValue:t.lastName,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.lastName=e}),color:"black",label:"Фамилия","r-clearable":!!t.lastName},null,8,["modelValue","r-clearable"])]),Object(n["k"])("div",u,[Object(n["o"])(I,{modelValue:t.firstName,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.firstName=e}),color:"black",label:"Имя","r-clearable":!!t.firstName},null,8,["modelValue","r-clearable"])]),Object(n["k"])("div",b,[Object(n["o"])(I,{modelValue:t.middleName,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.middleName=e}),color:"black",label:"Отчество",hint:"При наличии","r-clearable":!!t.middleName},null,8,["modelValue","r-clearable"])]),Object(n["k"])("div",d,[Object(n["o"])(I,{modelValue:t.birthDate,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.birthDate=e}),color:"black",label:"Дата рождения",mask:"##.##.####","bottom-slots":"","no-error-icon":"","r-clearable":!1,rules:[t.birthDateRules]},{hint:Object(n["ab"])((function(){return[O,f]})),_:1},8,["modelValue","rules"])])])]),Object(n["k"])("div",j,[Object(n["k"])("div",m,[Object(n["o"])(_,{modelValue:t.consent,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.consent=e}),color:"primary",dense:""},{default:Object(n["ab"])((function(){return[Object(n["o"])(V,{variant:"caption-1-regular"},{default:Object(n["ab"])((function(){return[h,Object(n["o"])(V,{color:"base-color-5",tag:"span",variant:"caption-1-regular"},{default:Object(n["ab"])((function(){return[p]})),_:1}),v,Object(n["o"])(V,{color:"base-color-5",tag:"span",variant:"caption-1-regular"},{default:Object(n["ab"])((function(){return[k]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),Object(n["k"])("div",D,[Object(n["o"])(w,{onClick:t.updateData,disable:t.isDisableActionBtn,class:"full-width bg-primary",outline:"","r-rounded":""},{default:Object(n["ab"])((function(){return[Object(n["o"])(V,{tag:"span",variant:"body-1-regular",color:"base-color-white"},{default:Object(n["ab"])((function(){return[g]})),_:1})]})),_:1},8,["onClick","disable"])])])])]})),_:1})}var N=a("1da1"),V=a("d4ec"),I=a("bee2"),_=a("257e"),w=a("262e"),U=a("2caf"),C=a("ade3"),R=(a("96cf"),a("99af"),a("9ab4")),$=a("ce1f"),q=a("c1df"),A=a.n(q),B=a("1a77"),E=a("3d16"),S=a("225f"),x=function(t){Object(w["a"])(a,t);var e=Object(U["a"])(a);function a(){var t;Object(V["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r)),Object(C["a"])(Object(_["a"])(t),"updateUserData",Object($["d"])(B["w"])),Object(C["a"])(Object(_["a"])(t),"consultationInfo",Object($["d"])(B["f"])),Object(C["a"])(Object(_["a"])(t),"firstName",""),Object(C["a"])(Object(_["a"])(t),"lastName",""),Object(C["a"])(Object(_["a"])(t),"middleName",""),Object(C["a"])(Object(_["a"])(t),"birthDate",""),Object(C["a"])(Object(_["a"])(t),"consent",!1),t}return Object(I["a"])(a,[{key:"isValidBirthDate",get:function(){return this.$dateFilters.isValidBirthDate(this.birthDate)&&this.$dateFilters.isOfAge(this.birthDate)}},{key:"isDisableActionBtn",get:function(){return!this.firstName||!this.lastName||!this.isValidBirthDate||!this.consent||this.updateUserData.userData.isLoading}},{key:"birthDateRules",value:function(t){return!t||(this.$dateFilters.isValidBirthDate(t)?!!this.$dateFilters.isOfAge(t)||"Возвраст пользователя должен быть старше 18 лет":"Некорректная дата")}},{key:"updateData",value:function(){var t=Object(N["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=A()(this.birthDate,"DD.MM.YYYY").toISOString(!0),a={firstName:this.firstName,lastName:this.lastName,middleName:this.middleName,birthDate:e,consent:this.consent},t.next=4,this.updateUserData.updateUserData(a);case 4:if(!this.updateUserData.userData.error){t.next=7;break}return this.$analyticsUtils.pushEvent("personal_info_error",{eventCategory:"registration",error:this.updateUserData.userData.error}),t.abrupt("return");case 7:this.$analyticsUtils.pushEvent("personal_info_done",{eventCategory:"registration"}),this.consultationInfo.consultationInfoStore.canConfirmConsultation?(n=this.consultationInfo.consultationInfoStore,r=n.speciality,c=n.interval,this.$router.push({name:E["a"].SERVICE_CONFIRMATION,params:{specialityId:null===r||void 0===r?void 0:r.id,productId:null===r||void 0===r?void 0:r.productId,intervalId:null===c||void 0===c?void 0:c.id}})):this.$router.push({name:E["a"].SPECIALTIES});case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.$analyticsUtils.pushEvent("personal_info_start",{eventCategory:"registration"})}}]),a}($["b"]);x=Object(R["a"])([Object($["a"])({components:{RInput:S["g"],RCheckbox:S["c"],RBtn:S["b"]}})],x);var F=x,Q=(a("034b"),a("6b0d")),Y=a.n(Q);const L=Y()(F,[["render",y],["__scopeId","data-v-5b9c389c"]]);e["default"]=L}}]);
//# sourceMappingURL=chunk-2f821b53.d6533d45.js.map